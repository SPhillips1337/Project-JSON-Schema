{
  "schemaVersion": "1.0.1",
  "name": "Comfy Image - WordPress ComfyUI Integration",
  "slug": "comfy-image",
  "summary": "A WordPress plugin that enables Gutenberg users to generate and insert images using a remote ComfyUI instance via slash commands or a block widget.",
  "version": "0.1.0",
  "repository": "<https://github.com/owner/comfy-image>",
  "license": "GPL-2.0+",
  "goals": [
    "Let editors generate images on-the-fly inside Gutenberg using ComfyUI",
    "Expose a slash command `/comfy` and a Gutenberg block to create images from text prompts",
    "Provide an admin UI to configure ComfyUI endpoint, workflow templates and media options",
    "Optionally save generated images to the WP Media Library and insert them into posts/pages"
  ],
  "primary_features": [
    "Slash-command prompt: `/comfy <description>` inside Gutenberg to call ComfyUI",
    "Gutenberg block: dedicated UI for prompt + advanced settings (seed, steps, model)",
    "Admin settings page to set ComfyUI URL, default workflow, and save-to-media behavior",
    "Server-side proxy endpoints that upload images to ComfyUI, submit workflows, poll for completion, and import results",
    "Client-side UX: upload preview, progress updates, and image insertion into post content"
  ],
  "tech_stack": {
    "wordpress": ">=5.9",
    "php": ">=8.0",
    "javascript": "ESNext (Gutenberg/React via @wordpress/scripts)"
  },
  "development_state": {
    "scaffold": "not created yet (PLAN.md created)",
    "reviewed_examples": [
      "image-image-gen/js/main.js",
      "image-image-gen/README.md",
      "image-image-gen/image_qwen_image_edit_2509.json",
      "LLM_Auto_Redirect_v1.2.0/LLM_Auto_Redirect.php",
      "LLM_Auto_Redirect_v1.2.0/LLM_Auto_Redirect_multi.php"
    ],
    "notes": "We have example frontend ComfyUI integration (image-image-gen) and example WP admin patterns (LLM_Auto_Redirect) which will be adapted."
  },
  "development_plan": {
    "currentPhase": 1,
    "phases": []
  },
  "todo": [
    { "id": "1", "title": "Create plugin scaffold and repo", "status": "pending" },
    { "id": "2", "title": "Add plugin metadata and hooks", "status": "pending" }
  ],
  "files_of_interest": [
    "image-image-gen/js/main.js",
    "image-image-gen/README.md",
    "image-image-gen/image_qwen_image_edit_2509.json",
    "LLM_Auto_Redirect_v1.2.0/LLM_Auto_Redirect.php",
    "LLM_Auto_Redirect_v1.2.0/LLM_Auto_Redirect_multi.php",
    "PLAN.md"
  ],
  "api_endpoints": [],
  "external_services": {},
  "required_env": [],
  "current_capabilities": [],
  "next_steps": [],
  "architecture": {
    "overview": "Comfy Image integrates a WP plugin frontend with a remote ComfyUI service.",
    "components": {
      "client": {
        "description": "Gutenberg block and slash command UI",
        "implementation": "React via @wordpress/scripts",
        "files": ["js/block.js"],
        "status": "planned"
      },
      "server": {
        "description": "Server-side proxy endpoints for ComfyUI",
        "implementation": "PHP",
        "files": ["includes/api.php"],
        "status": "planned"
      }
    }
  },
  "infrastructure": {
    "type": "plugin",
    "notes": "Runs inside WordPress; no separate infra required for basic usage",
    "files": []
  },
  "status": "planning",
  "concept": "Enable image generation in Gutenberg via remote ComfyUI workflows",
  "current_goals": ["Scaffold plugin", "Add admin settings", "Create ComfyUI workflows"],
  "key_files": { "includes/api.php": "Server proxy endpoints", "js/block.js": "Gutenberg block code" },
  "generation_modes": {
    "default": { "command": "submit_workflow", "url": "http://comfyui.local/api/run", "description": "Primary generation workflow", "features": ["seed","steps"], "time": 12 }
  },
  "features": {
    "completed": [],
    "demo_ready": ["basic slash command"],
    "future_enhancements": ["save presets", "progressive image edits"]
  },
  "demo_stats": {
    "generation_success_rate": 0,
    "average_generation_time": 0,
    "last_demo_notes": "No demo runs recorded yet; replace with measured values after testing"
  },
  "progress_percent": 5,
  "progress_state": "scaffolding",
  "next_version_goals": ["admin UI","workflow templates"],
  "contact": { "owner": "stephen", "project_root": "/home/stephen/Documents/www/comfypress" }
}
